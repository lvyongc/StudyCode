## 可视化

### 数据可视化 CSS3

- 元素在页面上渲染完之前，transition 是不起效果的，可以用定时器
- transitionend 事件

```js
// transitionend 事件，监听元素的 transtion 动画执行完毕
box.addEventListener('transitionend',function(){
    console.log("动画执行了");// 这里可以放动画之后执行的代码
});
```

- animation 相关事件

```js
    box.addEventListener("animationstart",function(){
        console.log("动画开始");开始时添加代码
    });
    box.addEventListener("animationend",function(){
        console.log("动画结束");结束时添加代码
    });
    // animationiteration 动画重复执行时，使用，监听动画又开始
    box.addEventListener("animationiteration",function(){
        console.log("动画又开始");重复时添加代码
    });
```

- transform 中写多个函数时，后写先计算 

- perspective-origin

```
从哪个角度看这个3D元素，模拟从不同位置来观察物体的效果
perspective-origin: right center;  右侧面
```

- transform-origin

```
 设置旋转元素的基点位置，根据哪个点来做旋转
 transform-origin: x y z; 
 默认：
 transform-origin: center center 0;

			/* 父级整个元素旋转的基点 */
            transform-origin: center center -100px;
            /*transform-origin: x y z;  */


			/* 子级根据底部旋转X轴旋转90度 */
            transform-origin: bottom;
            transform: rotateX(90deg);		
```

- JS执行动画，不用考虑兼容问题，css3有兼容问题，js动画改的是css2
  - requestAnimationFarme  动画帧
  - cancelAnimationFrame    关闭动画帧
  - 计算机显示器刷新频率一般是60Hz，相当于每秒重绘60次
  - 动画帧采用的是系统时间间隔，它与计算机系统重绘频率保持一致（高性能，视觉佳）
  - 定时器执行时间间隔不精确
  - 用来做间歇性执行的，与 setTimeout 类似，有延迟时间，延迟时间是浏览器自动计算的，只会执行一次，如果 我们希望动画，连续执行，就需要用 递归 重复调用
  - 与 setTimeout相比不用写时间，计算机自动给最符合的时间

```js
function fn(){
                // console.log(123)
                l+=10;
                console.log(l)
                div.style.marginLeft = l+'px';
                if(l<100){
 // 递归 - 函数内部自身调用自身（一定要写判断 停止递归的条件）
                    requestAnimationFrame(fn);
                }
            }

            // 类似于setTimeout
            requestAnimationFrame(fn)
```



- 2

![邂逅数据可视化](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\邂逅数据可视化.png)

------

### 可视化-萌芽阶段

![可视化-萌芽阶段](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\可视化-萌芽阶段.png)

------

### 可视化-黄金阶段

![可视化-黄金阶段](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\可视化-黄金阶段.png)

------

### 可视化-重生阶段

![可视化-重生阶段](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\可视化-重生阶段.png)

------

### 可视化 -分析学阶段

![可视化 -分析学阶段](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\可视化 -分析学阶段.png)

------

### 数据可视化-应用

![数据可视化-应用](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\数据可视化-应用.png)

------

### 可视化-解决方案

![可视化-解决方案](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\可视化-解决方案.png)

------

### 低代码平台 阿里云（DataV）

![低代码平台 阿里云（DataV）](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\低代码平台 阿里云（DataV）.png)

------

### 2D动画 - transform

![2D动画 - transform](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\2D动画 - transform.png)

------

### 坐标系

- 使用 transform后，坐标系变为 中心点
- transform为方向，坐标是，方向边的中心

```css
        /* 平移，旋转 */
        transform:  translateX(100px) rotate(45deg);
        /* 修改 坐标在左上角 */
        transform-origin: 0 0;
```

![坐标系](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\坐标系.png)

------

### transform-origin

```js
#box:hover #div {
        transform: scale(0) rotate(360deg);
    }
    /*
        默认 旋转，缩放，斜切 都是围绕着元素的中心点进行变换 
        transform-origin 变换基点 (旋转，缩放，斜切 围绕着那个点进行)
            默认值： center center
            0,0点 在元素的左上角

    */
```



![transform-origin](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\transform-origin.png)

------

### 3D动画 - transform

![3D动画 - transform](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D动画 - transform.png)

------

### 3D旋转 - rotateZ 、rotateX、rotateY

![3D旋转 - rotateZ 、rotateX、rotateY](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D旋转 - rotateZ 、rotateX、rotateY.png)

------

### 3D旋转 - rotate3d

```css
        transform: rotateX(-33.5deg) rotateY(45deg) rotateZ(45deg);
        transform: rotateZ(45deg); /* 这个 等于 简写*/
        /* 简写，1表示是哪个轴进行旋转，45deg是那个轴旋转的角度 */
        transform: rotate3d(0, 0, 1, 45deg);
```

![3D旋转 - rotate3d](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D旋转 - rotate3d.png)

------

### 3D旋转 - rotateXYZ VS rotate3d

![3D旋转 - rotateXYZ VS rotate3d](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D旋转 - rotateXYZ VS rotate3d.png)

------

### 3D透视 - perspective

- 近大远小
- 有父元素

```css
      .box {
        /* 1.透视-父元素，眼睛到元素的距离，眼睛到屏幕的距离是不会改变的 */
        perspective: 200px;
      }
      .item {
        /* 2.旋转-子元素 */
        transform: rotateY(60deg);
      }
```

- 没有父元素，在当前元素上

```css
      .item {
        /* 透视、旋转 */
        transform: perspective(200px) rotateY(60deg);
      }
```

- https://codepen.io/mburakerman/pen/wrZKwe 
- https://codepen.io/enxaneta/pen/ZQbNMx

![3D透视 - perspective](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D透视 - perspective.png)

------

### 3D位移 - translateX、translateY、translateZ

```css
        transform: translateX(100px);
        /* x, y, z 简写 */
        transform: translate3d(100px, 100px, 0);

        transform: perspective(200px) translateZ(-200px);
```

![3D位移 - translateX、translateY、translateZ](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D位移 - translateX、translateY、translateZ.png)

------

### 3D位移 - translate3d

![3D位移 - translate3d](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D位移 - translate3d.png)

------

### 3D缩放 - scaleX、scaleY、scaleZ

```css
        transform: scaleX(2) scaleY(2);

        transform: scale3d(2, 2, 1);

        transform-origin: top left;
		
        transform: perspective(300px) translateZ(-100px) scaleZ(2);
```

![3D缩放 - scaleX、scaleY、scaleZ](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D缩放 - scaleX、scaleY、scaleZ.png)

------

### 3D缩放 - scale3d

![3D缩放 - scale3d](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D缩放 - scale3d.png)

------

### 3D空间 - transform-style

- 设置元素的子元素是定位在 3D 空间中还是平展在元素的2D平面中
- 在3D空间中同样是可以使用透视效果

```css
      .box {
        /* 设置当前元素的子元素是在 3D 空间*/
        transform-style: preserve-3d;
        /* 透视 */
        perspective: 800px;
      }
      .item {
        /* 3d */
        transform: rotateX(70deg) translateX(50px);
      }
```

![3D空间 - transform-style](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D空间 - transform-style.png)

------

### 3D空间 - 制作正方体

![3D空间 - 制作正方体](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D空间 - 制作正方体.png)

------

### 3D背面可见性 - backface-visibility

```css
      .box {
        /* 透视 */
        perspective: 800px;
      }
        /* 背向隐藏 */
        backface-visibility: hidden;
        /* 动画  */
        animation: loop 6s linear infinite;
      }
      @keyframes loop {
        0% {
          transform: rotateY(0deg);
        }
        100% {
          transform: rotateY(-360deg);
        }
      }
```

![3D背面可见性 - backface-visibility](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D背面可见性 - backface-visibility.png)

------

### 3D动画 - 制作webpack logo

![3D动画 - 制作webpack logo](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\3D动画 - 制作webpack logo.png)

------

### 2.5D动画 - 数据平台可视化

![2.5D动画 - 数据平台可视化](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\2.5D动画 - 数据平台可视化.png)

------

## 浏览器渲染流程

![浏览器渲染流程](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\浏览器渲染流程.png)

------

## CSS3动画性能优化

创建一个新的渲染层

创建一个合成层

少用模糊  高斯模糊  和 渐变

控制动画 (  A -> B )，离开页面 关闭动画

- will-change
- transform
- 定位

![CSS3动画性能优化](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\CSS3动画性能优化.png)

------

## 数据可视化 Canvas

### 邂逅Canvas

![邂逅Canvas](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\邂逅Canvas.png)

------

### Canvas优缺点

![Canvas优缺点](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\Canvas优缺点.png)

------

### 初体验Canvas

```js
    // 1.当页面加载完成之后会回调该函数
    function draw() {
      // 2.拿到canvas对象
      var canvas = document.getElementById("tutorial");
      // 3.判断浏览器是否支持Canvas
      if (canvas.getContext) {
        // 4.拿到Canvas的上下文（绘图用）
        var ctx = canvas.getContext("2d"); //  2d | webgl 
        console.log(ctx);
      }
    }
```

![初体验Canvas](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\初体验Canvas.png)

------

### Canvas Grid 和 坐标空间

![Canvas Grid 和 坐标空间](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\Canvas Grid 和 坐标空间.png)

------

### 绘制矩形( Rectangle )

```js
      // 1.绘制了一个填充的矩形
      ctx.fillStyle = 'red'
      ctx.fillRect(0, 0, 100, 50)

      // 2.绘制一个边框的矩形
      ctx.strokeRect(100, 100, 100, 50)

      // 3.清除指定区域的矩形
      ctx.clearRect(0,0, 100, 50)
```

![绘制矩形( Rectangle )](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\绘制矩形( Rectangle ).png)

------

### 认识路径

```js
      ctx.lineWidth = 10
      // 1.创建一个新的路径
      ctx.beginPath()
      // 2.使用的绘图的命名(ctx对象中的 属性 和 API)
      ctx.moveTo(10, 10)
      ctx.lineTo(100, 10)
      // 3.闭合路径
      // ctx.closePath() // 不是必须
      // 4.描边或填充
      ctx.stroke()  // 绘制线条只能用 stroke填充,不用 fill
```

![认识路径](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\认识路径.png)

------

### 路径-绘制直线

```js
      if (canvas.getContext) {
        // 拿到Canvas的上下文（绘图用）
        var ctx = canvas.getContext("2d");

        ctx.beginPath(); // 创建路径
        // 设置🖌状态
        ctx.strokeStyle = "red";
        ctx.lineWidth = 5;
        // 移动画笔
        ctx.moveTo(10, 10);
        // 绘制
        ctx.lineTo(100, 10);
        ctx.closePath(); // 闭合路径
        // 描边
        ctx.stroke();
      }
```

![路径-绘制直线](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\路径-绘制直线.png)

------

### 路径-绘制三角形( Triangle )

```js
      if (canvas.getContext) {
        // 拿到Canvas的上下文（绘图用）
        var ctx = canvas.getContext("2d");

        ctx.beginPath(); // 开始路径
        // 绘图
        ctx.moveTo(10, 10);
        ctx.lineTo(60, 60);
        ctx.lineTo(10, 110);
        ctx.closePath(); // 闭合路径
        // 描边
        ctx.strokeStyle = "red";
        ctx.stroke();
        // 填充,自动闭合路径
        ctx.fill();
      }
```

![路径-绘制三角形( Triangle )](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\路径-绘制三角形( Triangle ).png)

------

### 路径-绘制圆弧（Arc）、圆 ( Circle)

```js
      // 1.每个图形都绘制在一个路径中
      ctx.beginPath()
      ctx.arc(50, 50, 25, 0, Math.PI * 2, false)
      ctx.stroke()

      ctx.beginPath()
      ctx.arc(150, 150, 25, 0, Math.PI)
      ctx.stroke()


     
      // 2.在一个路径中绘制多个图形
      ctx.beginPath()
      ctx.arc(50, 50, 25, 0, Math.PI * 2, false)
      ctx.moveTo(175, 150)
      ctx.arc(150, 150, 25, 0, Math.PI)
      // ctx.closePath()
      ctx.stroke()
```

![路径-绘制圆弧（Arc）、圆 ( Circle)](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\路径-绘制圆弧（Arc）、圆 ( Circle).png)

------

### 路径-矩形（Rectangle）

```js
      // 1.创建一个路径
      ctx.beginPath()
      // 2.绘图指令
      // ctx.moveTo(0, 0)
      ctx.rect(100, 100, 100, 50)
      // 3.闭合路径
      ctx.closePath()
      // 4.填充和描边
      ctx.stroke()
```

![路径-矩形（Rectangle）](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\路径-矩形（Rectangle）.png)

------

### 色彩 Colors

```js
      ctx.fillStyle = 'red'
      ctx.fillStyle = '#cdcdcd'
      ctx.fillStyle = 'rgba(255, 0, 0, 0.3)'
      ctx.strokeStyle = 'blue' // 关键字, 十六进制, rbg , rgba
```

![色彩 Colors](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\色彩 Colors.png)

------

### 透明度 Transparent

```js
      // 针对于Canvas中所有的图形生效
      ctx.globalAlpha = 0.3

      // 修改当前颜色透明度
      ctx.fillStyle = 'rgba(255, 0, 0, 0.3)'
```

![透明度 Transparent](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\透明度 Transparent.png)

------

### 线型 Line styles

```js
      ctx.lineWidth = 10
      ctx.lineCap = 'butt' // butt round square
      ctx.lineJoin = 'bevel' // miter  round  bevel
```

![线型 Line styles](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\线型 Line styles.png)

------

![线型 Line styles2](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\线型 Line styles2.png)

------

### 绘制文本

```js
      ctx.font = '60px sen-serif' // 字体大小、字体
      ctx.textAlign = 'center'  // 对齐
      ctx.textBaseline = 'middle' // 基线
      // ctx.strokeStyle ="red" // 描边
      ctx.fillStyle ="red" // 填充

      // 将 文字Ay 绘制在 100, 100 这个坐标点
      ctx.fillText('Ay', 100, 100)
      // ctx.strokeText('Ay', 100, 100) // 描边
```

![绘制文本](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\绘制文本.png)

------

### 绘制图片

```js
      // 1.准备一张图片
      var image = new Image()
      image.src = '../images/backdrop.png'

      image.onload = function() {
        // 2.开始用Canvas来绘制图片
        // drawImage将图片渲染到 Canvas；图片、位置、大小
        ctx.drawImage(image, 0, 0, 180, 130)

        // 3.在 图片上，绘制折线
        ctx.beginPath()
        ctx.moveTo(40, 100)
        ctx.lineTo(50, 70)
        ctx.lineTo(60, 90)
        ctx.lineTo(100, 30)
        ctx.lineTo(170, 90)
        ctx.stroke()
      }
```

![绘制图片](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\绘制图片.png)

------

### Canvas绘画状态-保存和恢复

- 先存后取

```js
      ctx.fillStyle ='red'
      ctx.fillRect(10, 10, 30, 15)
      // 存
      ctx.save()

      ctx.fillStyle = 'green'
      ctx.fillRect(50, 10, 30, 15)
      // 存
      ctx.save()

      ctx.fillStyle = 'blue'
      ctx.fillRect(90, 10, 30, 15)
      // 存
      ctx.save()

      // 取
      ctx.restore() // blue
      ctx.fillRect(90, 40, 30, 80)
      // 取
      ctx.restore() // green
      ctx.fillRect(50, 40, 30, 80)
      // 取
      ctx.restore() // red
      ctx.fillRect(10, 40, 30, 80)
```

![Canvas绘画状态-保存和恢复](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\Canvas绘画状态-保存和恢复.png)

------

### 变形 Transform

![变形 Transform](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\变形 Transform.png)

------

### 移动-translate

```js
      // 1.(保存形变之前的状态)
      ctx.save()
      // 形变
      ctx.translate(100, 100)
      // 绘制
      ctx.fillRect(0,0, 100, 50)
       // 恢复了形变之前的状态( 0,0)
      ctx.restore()
```

![移动-translate](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\移动-translate.png)

------

### 旋转-rotate

- restore 恢复是为了下次 绘制时，使用初始的 属性
- 没有恢复，会使用 形变后的 属性

```js
      // 保存形变之前的状态
      ctx.save()
      // 1.形变
      ctx.translate(100, 100)
      // 360 -> Math.PI * 2
      // 180 -> Math.PI
      // 1 -> Math.PI / 180
      // 45 -> Math.PI / 180 * 45
      ctx.rotate(Math.PI / 180 * 45)
      // 绘制
      ctx.fillRect(0, 0, 50, 50) 

      // 绘图结束(恢复形变之前的状态)；不恢复 二次translate 是从100开始，不是从0开始
      ctx.restore()
      ctx.save()
      ctx.translate(100, 0) // 从0开始移动
      ctx.fillRect(0, 0, 50, 50)
      ctx.restore()
```

![旋转-rotate](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\旋转-rotate.png)

------

### 缩放-scale

![缩放-scale](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\缩放-scale.png)

------

## Canvas动画

#### setInterval定时器的缺陷

- setInterval定时器不是非常精准的，因为setTimeout的回调函数是放到了宏任务中等待执行
- 如果微任务中一直有未处理完成的任务，那么setTimeout的回调函数就有可能不会在指定时间内触发回调
-  如果想要更加平稳和更加精准的定时执行某个任务的话
- 可以使用requestAnimationFrame函数

```js
    // 在浏览器下一次重绘之前会回调该函数的回调函数draw
    requestAnimationFrame(draw)

    function draw() {
      console.log('draw')
      requestAnimationFrame(draw)
    }
```

![Canvas动画](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\Canvas动画.png)

------

### 绘制秒针- setInterval

![绘制秒针- setInterval](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\绘制秒针- setInterval.png)

------

### 绘制秒针-requestAnimationFrame

![绘制秒针-requestAnimationFrame](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\绘制秒针-requestAnimationFrame.png)

------

### 太阳系旋转

![太阳系旋转](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\太阳系旋转.png)

------

### 时钟

![时钟](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\时钟.png)

------

## 数据可视化-ECharts5

### 认识ECharts

![认识ECharts](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\认识ECharts.png)

------

### ECharts 的特点

![ECharts 的特点](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\ECharts 的特点.png)

------

### 初体验ECharts

```js
  <!-- 4.ECharts 的容器( 必须要有高度,宽度是可选的 ) -->
  <div id="main" style="height: 400px"></div>

	// 1.基于准备好的dom，初始化 echarts实例
       var myChart = echarts.init(document.getElementById('main'));

       // 切换为svg的渲染器( 默认是canvas )
	// ID、主题色、渲染器
      let myChart = echarts.init(document.getElementById('main'), null, { renderer: 'svg' });

      // 2.指定图表的配置项和数据
      var option = {};

      // 3.使用刚指定的配置项和数据显示图表。
      myChart.setOption(option);
```

![初体验ECharts](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\初体验ECharts.png)

------

### ECharts 渲染原理

![ECharts 渲染原理](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\ECharts 渲染原理.png)

------

### 选择哪种渲染器

![选择哪种渲染器](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\选择哪种渲染器.png)

------

### 认识option配置项( 组件 )

![认识option配置项( 组件 )](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\认识option配置项( 组件 ).png)

------

### Grid网格配置 （组件）

```js
		// ECharts的背景
        backgroundColor: 'rgba(255, 0, 0, 0.1)',

        // grid 网格组件( 绘图区域 )
        grid: {
          show: true,
          backgroundColor: 'rgba(0, 255, 0, 0.1)',
          // top: 0,
          // bottom: 0,
          left: 0,
          // right: 0,
          // 网格区域是否包含 Y轴刻度
          containLabel: false,
        }
```

![Grid网格配置 （组件）](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\Grid网格配置 （组件）.png)

------

### 坐标系配置（组件）

```js
        xAxis: {
          show: true,
          name: "类目坐标",

          type: "category", // 类目坐标才有data选项  
          data: ['衬衫', '羊毛衫', '雪纺衫'],
        
          axisLine: { // 坐标轴轴线相关设置。
            show: true,
            lineStyle: {
              color: "red",
              width: 3,
            },
          },

          axisLabel: { // 坐标轴刻度标签的相关设置。
            show: true,
            color: "green",
            fontSize: 16,
          },

          axisTick: {  // 坐标轴刻度相关设置。
            show: true,
            length: 10,
            lineStyle: {
              color: "blue",
              width: 3,
            },
          },

          splitLine: { // 坐标轴在 grid 区域中的分隔线。
            show: true,
            lineStyle: {
              color: "orange",
              width: 1,
            },
          }, 
        }

		yAxis: {
          name: '数量 / 件',
          type: "value",
        },
```

![坐标系配置（组件）](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\坐标系配置（组件）.png)

------

### series 系列图配置（组件）

```js
        series: [
          {
            type: 'pie', // line bar scatter pie
            label: { 
              // data 的数据显示
              show: true
            },
              
          // 设置成百分比时第一项是相对于容器宽度，第二项是相对于容器高度。
          center: ["50%", "50%"], // 饼图的中心（圆心）坐标，数组的第一项是横坐标，第二项是纵坐标。
            
            // 百分比是参照容器高宽中较小一项( 感觉是直径 )
            radius: ["0%", "80%"], // 饼图的半径。数组的第一项是内半径，第二项是外半径。
            roseType: "area", //area玫瑰图(南丁格尔图)。 圆心角一样，通过半径展现数据大小(默认false)
           
           type: 'bar', // line bar scatter pie
           label: { // 系列图形上的文本标签
              show: true,
              position: [10, 10], // 支持的类型可以查文档，不同type的position的值会有些差异
              color: "red",
              fontSize: 20,
            },
              
            itemStyle: { // 统一设置，系列图形的样式
              color: "green",
              borderColor: "orange",
              borderWidth: 4,
              opacity: 0.4,
            },
              
            emphasis: { // 统一设置，图形高亮( label、labelLine、itemStyle、lineStyle、areaStyle... )
              label: {
                show: true,
                color: 'red'
              },
              itemStyle: {
                color: 'orange'    
              },
              // .....
            },
              
			// 常用
            data: [
              {
                value: 5,
                name: "衬衫", // 数据项名称, 比如pie系列 tooltip 需要用到
                // 自定义扩展属性
                // ....
                // ....
              },
              {
                value: 20,
                name: "羊毛衫",
                itemStyle: { // 单独设置，系列图形的样式
                  // 单独设置 图形颜色
                  color: "orange",
                },	
                emphasis: { // 单独设置，图形高亮( label、labelLine、itemStyle、lineStyle、areaStyle... )
                  label: {
                    show: true,
                    color: 'blue'
                  },
                  itemStyle: {
                    color: 'pink'    
                  },
                },
              },
              {
                value: 36,
                name: "雪纺衫",
                itemStyle: { // 系列图形的样式
                  color: "pink",
                },
              },
            ],

            // (地理坐标系推荐)
   			    data: [
              {
                value: [0, 5, 500], // 第一项为x轴或纬度值，第二项为y或维度轴值，第三项以后为扩展值
                name: "衬衫", // 数据项名称, 比如pie系列 tooltip 需要用到
              },
              {
                value: [1, 20, 400],
                name: "羊毛衫",
              },
            ],
          }
        ]
```

![series 系列图配置（组件）](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\series 系列图配置（组件）.png)

------

### series 高亮的样式( emphasis )

![series 高亮的样式( emphasis )](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\series 高亮的样式( emphasis ).png)

------

### 标题、图例、提示配置（组件）

```js
        title: {
          show: true,
          text: "Echart 5 条形图",
          left: 20,
          top: 10,
          // subtext: '第二个标题'
          // ....
        },
        // 图例
        legend: {
          show: true,
          itemWidth: 20,
          icon: 'circle',
		// 格式化
          formatter: function(name) {
            console.log(name)
            // 富文本的语法: {style_name|content}；给40%添加percentageStyle的样式
            return name + '{percentageStyle| 40%}'
          },
          textStyle: {
            rich: { // 给富文本添加样式
              percentageStyle: {
                color: 'red',
                fontSize: 12
                // css 样式
              }
            }
          }
        },
      // 提示框；移动到图标上显示的内容
        tooltip: {
          show: true,
          // 使用了 trigger ，一般也结合 axisPointer；显示X、Y轴线
          trigger: "axis",  // 默认是 item
          axisPointer: {
            type: "shadow", //  (默认是竖线 line)  (横线 + 竖线 cross)  (阴影 shadow)
          },
          // 自定义 移动到图标上显示的内容
          // formatter: '<div style="color:red">haha</div>'
        }
```

![标题、图例、提示配置（组件）](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\标题、图例、提示配置（组件）.png)

------

### Color 和 渐变色

```js
        series: [
          {
            type: 'bar',
            // 统一设置，图形的颜色
            itemStyle: {
              color: {
                // 渐变 类型
                type: "linear",
                // 方向
                x: 0,
                y: 0,
                x2: 0,
                y2: 1,
                // 开始结束颜色 
                colorStops: [
                  {
                    offset: 0,
                    color: "red",
                  },
                  {
                    offset: 1,
                    color: "blue",
                  },
                ],
              }
            },
             data: [
              {
                value: 5,
                name: "衬衫", // 数据项名称, 比如pie系列 tooltip 需要用到
                 // 单独设置，图形的颜色
                itemStyle: {
                 color: new echarts.graphic.LinearGradient(
                    0,
                    0,
                    0,
                    1,
                    [
                      {
                        offset: 0,
                        color: "#20FF89",
                      },
                      {
                        offset: 1,
                        color: "rgba(255, 255, 255, 0)",
                      },
                    ],
                    false
                  ),
                },
              }
            ]    
          }
        ]
```

![Color 和 渐变色](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\Color 和 渐变色.png)

------

### 柱形图

![柱形图](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\柱形图.png)

------

### 折线图

![折线图](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\折线图.png)

------

### 饼图

![饼图](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\饼图.png)

------

### 地图-绘制

```js
	// 1.导入
  <script src="./geojson/china.js"></script>

  <script>
    window.onload = function() {
      let myChart = echarts.init(document.getElementById('main'));
      let option = {
        // 2.在 echarts 中展示中国地图
        geo: {
          map: 'china'
        },
      };
      myChart.setOption(option);
    }
  </script>
```

-  https://github.com/echarts-maps/echarts-china-cities-js/tree/master/js/shape-with-internal-borders 
- https://datav.aliyun.com/portal/school/atlas/area_selector

![地图-绘制](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\地图-绘制.png)

------

### geo 和 map series绘制地图的区别

![geo 和 map series绘制地图的区别](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\geo 和 map series绘制地图的区别.png)

------

### 地图-着色

```js
        series: [
          {
            
            type: 'map', // 系列图是 地图(创建一个地理坐标系统, 用来展示数据 )
            map: '中国', // 
            roam: true,
            // =======地图着色=========
            itemStyle: {
              areaColor: "#023677", // 地图区域的颜色。
              borderColor: "#1180c7", // 图形的描边颜色。
            },
              
            emphasis: {
              itemStyle: {
                areaColor: "#4499d0",
              },
              label: {
                color: "white",
              },
            },
              // =======地图着色=========
          }
        ]
```

![地图-着色](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\地图-着色.png)

------

### 地图-数据可视化

```js
      // 指定图表的配置项和数据
      var option = {
        // 显示 数据
        tooltip: {},
        grid: {},


        // 1.视觉数据映射
        visualMap: [
          {
            // type: "continuous", // 连续型视觉映射组件 (默认)
            // type: "piecewise", // 分段型视觉映射组件
            left: "20%",
            seriesIndex: [0], // 指定取哪个系列的数据
            // 定义 在选中范围中 的视觉元素, 对象类型。
            inRange: {
              color: ["#04387b", "#467bc0"], // 映射组件和地图的颜色(一般和地图色相近)
            },
          },
        ],


        series: [
          {
            name: "中国地图",
            type: "map",
            map: "中国",
            data,
            itemStyle: {
              areaColor: "#023677",
              borderColor: "#1180c7",
            },
            emphasis: {
              itemStyle: { areaColor: "#4499d0" },
              label: { color: "white" },
            },
            select: {
              label: { color: "white" },
              itemStyle: { areaColor: "#4499d0" },
            },
          },
        ],
      };
```

![地图-数据可视化](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\地图-数据可视化.png)

------

### 地图-涟漪特效散点图

![地图-涟漪特效散点图](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\地图-涟漪特效散点图.png)

------

### Echarts 常见 API

```js
      myChart.setOption(option);

      // 1.实现提示框轮播的功能
      setInterval(function () {
        autoToolTip();
      }, 1000);

      let index = 0; // 0-5
      
      function autoToolTip() {
        index++;
        if (index > 5) {
          index = 0;
        }
        // 1.显示提示框
        myChart.dispatchAction({
          type: "showTip", // 触发的action type
          seriesIndex: 0, // 系列的 索引
          dataIndex: index,// 数据项的 索引
          position: "top", // top
        });
      }
```

![Echarts 常见 API](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\Echarts 常见 API.png)

------

### 地图下钻

```js
// 1.导入 geo json
  <script src="./geojson/china_geojson.js"></script>
  <script src="./geojson/guangdong_geojson.js"></script>      

// 2.注册一下中国地图的 geo json ( 需要在setOption之前调用 )
      echarts.registerMap('中国', { geoJSON: china_geojson })

       myChart = echarts.init(document.getElementById('main'));
       option = {
        // 3.在 echarts 中展示中国地图
        series: [
          {
            type: 'map', // 系列图是 地图
            map: '中国', // 展示中国地图( 因为只注册一个中国地图 )
            roam: true
          }
        ]
      };
      myChart.setOption(option);   

      // 1.地图下钻的功能
      myChart.on('click', function(event) {
        // console.log(event)
        // event.name == 广东
        if(event.name === '广东'){
          if(!echarts.getMap(event.name)){
            console.log('注册广东地图')
            echarts.registerMap(event.name, { geoJSON: guangdong_geojson})
          }
          option.series[0].map = event.name // 将中国地图切换为广东地图
          myChart.setOption(option)
        }
      })
   // 返回中国地图
    function back() {
      option.series[0].map ='中国' 
      myChart.setOption(option)
    }
```

### 响应式 Echarts 图表

![响应式 Echarts 图表](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\响应式 Echarts 图表.png)

------

## 数据可视化 大屏适配

### 认识大屏

![认识大屏](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\认识大屏.png)

------

### 大屏设备-拼接屏

![大屏设备-拼接屏](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\大屏设备-拼接屏.png)

------

### 大屏设备- LED屏

![大屏设备- LED屏](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\大屏设备- LED屏.png)

------

### 定设计稿尺寸 -拼接屏

![定设计稿尺寸 -拼接屏](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\定设计稿尺寸 -拼接屏.png)

------

### 定设计稿尺寸 -LED屏

![定设计稿尺寸 -LED屏](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\定设计稿尺寸 -LED屏.png)

------

### 设计稿尺寸-移动端大屏

![设计稿尺寸-移动端大屏](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\设计稿尺寸-移动端大屏.png)

------

### 大屏适配方案

![大屏适配方案](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\大屏适配方案.png)

------

### 探究大屏适配方案

![探究大屏适配方案](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\探究大屏适配方案.png)

------

### 新建 大屏设备

![新建 大屏设备](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\新建 大屏设备.png)

------

### 大屏适配方案1 – rem + font-size

![大屏适配方案1 – rem + font-size](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\大屏适配方案1 – rem + font-size.png)

------

### 大屏适配方案2 - vw

![大屏适配方案2 - vw](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\大屏适配方案2 - vw.png)

------

### 大屏适配方案3（推荐） - scale

```js
import { onMounted, onUnmounted } from 'vue';
import _ from 'lodash' 

/**
  大屏适配的 hooks
 */
export default function useScalePage(option) {
  // let option = {
  //   targetX: 1920,
  //   targetY: 1080,
  //   targetRatio: 16 / 9
  // }

  const resizeFunc = _.throttle(function() {
    triggerScale() // 动画缩放网页
  }, 100)

  onMounted(()=>{
    triggerScale()  // 动画缩放网页
    window.addEventListener('resize', resizeFunc)
  })

  onUnmounted(()=>{
    window.removeEventListener('resize', resizeFunc) // 释放
  })

  // 大屏的适配
  function triggerScale() {
    // 1.设计稿的尺寸
    let targetX = option.targetX ||  1920
    let targetY = option.targetY || 1080
    let targetRatio = option.targetRatio ||  16 / 9 // 宽高比率

    // 2.拿到当前设备(浏览器)的宽度
    let currentX = document.documentElement.clientWidth || document.body.clientWidth
    let currentY = document.documentElement.clientHeight || document.body.clientHeight

    // 3.计算缩放比例
    let scaleRatio = currentX / targetX; // 参照宽度进行缩放 ( 默认情况 )
    let currentRatio = currentX / currentY // 宽高比率

    // 超宽屏
    if(currentRatio > targetRatio) {
      // 4.开始缩放网页
      scaleRatio = currentY / targetY // 参照高度进行缩放
      document.body.style = `width:${targetX}px; height:${targetY}px;transform: scale(${scaleRatio}) translateX(-50%); left: 50%`
    } else {
      // 4.开始缩放网页
      document.body.style = `width:${targetX}px; height:${targetY}px; transform: scale(${scaleRatio})`
    }
  }
}
```

![大屏适配方案3（推荐） - scale](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\大屏适配方案3（推荐） - scale.png)

------

### 三种适配方案的对比

![三种适配方案的对比](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\三种适配方案的对比.png)

------

### 大屏开发 注意事项

![大屏开发 注意事项](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\大屏开发 注意事项.png)

------

### 大屏项目搭建

![大屏项目搭建](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\大屏项目搭建.png)

------

### 大屏项目布局搭建

- 1920px*1080px 设计稿尺寸
- 宽高比 16 : 9

### 大屏项目适配

- rem + fontsize
- vw
- scale

![大屏项目适配](E:\AB--电脑备份\现在\StudyCode\img_前端可视化\大屏项目适配.png)

------

