<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>导航</title>
    <style>
        a {
            text-decoration: none;
        }

        /* 导航 样式 */
        .index-nav {
            position: relative;
            padding: 5px 0 20px;
            /* overflow: hidden; */
        }

        .index-nav div {
            float: left;
            perspective: 50px;
            margin-right: 50px;
        }

        .index-nav p {
            transform-style: preserve-3d;
            transform-origin: center center -18px;
            height: 36px;
            transition: .3s;
        }

        .index-nav a {
            display: block;
            font: 18px/36px "微软雅黑";
            color: #000;
            /* 隐藏背面 */
            backface-visibility: hidden;
        }

        .index-nav a:nth-child(2) {
            transform-origin:top;
            transform: rotateX(-90deg);
            color: #e75c77;
        }

        .index-nav .active p,
        .index-nav div:hover p {
            transform: rotateX(90deg);
        }

        .index-nav .line {
            position: absolute;
            left:0px;
            top: 60px;
            width: 20px;
            height: 3px;
            background: #e75c77;
        }
    </style>
</head>

<body>
    <nav class="index-nav wrap clear">
        <span class="line"></span>
        <div class="active">
            <p>
                <a href="#">全部</a>
                <a href="#">全部</a>
            </p>
        </div>
        <div>
            <p>
                <a href="#">PC端</a>
                <a href="#">PC端</a>
            </p>
        </div>
        <div>
            <p>
                <a href="#">移动端</a>
                <a href="#">移动端</a>
            </p>
        </div>
        <div>
            <p>
                <a href="#">菜单</a>
                <a href="#">菜单</a>
            </p>
        </div>
        <div>
            <p>
                <a href="#">卡片</a>
                <a href="#">卡片</a>
            </p>
        </div>
        <div>
            <p>
                <a href="#">聊天</a>
                <a href="#">聊天</a>
            </p>
        </div>
        <div>
            <p>
                <a href="#">图片切换</a>
                <a href="#">图片切换</a>
            </p>
        </div>
    </nav>
    <script src="./mTween.js"></script>
    <script>
       var  divS = document.querySelectorAll('.index-nav div');
       var  line = document.querySelector('.line');

       divS.forEach(function(item,index){
         item.addEventListener('mouseover',function(){
            // 元素自身距参照物左侧距离
            var  l = this.offsetLeft;
            // 元素自身的宽度
            var  w = this.offsetWidth;

            console.log(this,l,w);

            move({
                el:line,
                attrs:{
                    width:w,
                    left:l
                },
                time:600,
                type:'bounceOut'
            })
         })

         item.addEventListener('mouseout',function(){
             move({
                 el:line,
                 attrs:{
                     left:0,
                     width:36
                 },
                time:600,
                type:'bounceOut'
             })
         })
       })
    </script>
</body>

</html>