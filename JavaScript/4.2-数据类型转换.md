# JS系列分享
## 数据类型的划分及转换(下)
今天我们说一个好玩的东西-隐式类型转换及各种运算符的转换规则，这个也是面试的时候，出面试题很多的一块
比如下题：

```
console.log(["0"] == [0]); // false
console.log(!["0"] == ![0]); // true
console.log(["0"]+0 == [0]+0); // true

```

结果我们看到了，那我们今天就得好好说道说道各种运算符带来的隐式数据类型转换

### 隐式类型转换
隐式数据类型转换，也就是说这个转换过程不受我们强制 js 偷偷自己转的.

如 10 - “5”结果为 5。按照道理数字和字符串是不能直接运算的。
但是这里使用减号的时候，减号就偷偷的把两边的数据都转换为数字然后进行运算，
这个就是隐式类型转换

知道了隐式类型转换之后 我们来看看各种运算符带来的隐式类型转换

### 数学运算符的计算规则

- `-` 减，`*` 乘，`/` 除，`%` 取模，`-=` 减等，`*=` 乘等，`/=` 除等，`%=` 模等，`--` 自减，`++` 自增，`+` 正，`-` 负

	这些运算符只能进行数学运算，所以在计算的时候，会先进行数据转换，如果计算的值不是数字，则先转成数字之后再进行运算，这个转换过程 和 Number() 的转换规则一致，大家也可以理解为这些运算符帮我们调用 Number() 方法把两侧数据都转换成数字之后再进行运算

	```js
		var a = true;
		console.log(++a);//2
		/* a 本身是一个布尔值，但是自增计算的时候，就先把 a 转成了数字 1
		然后 ++  结果就是 2  */
	```

- `+` 加，`+=` 加等	

	这两个运算在 js 中稍微有些特殊他们不只可以进行加法运算，也可用于字符串连接，具体规则如下：

	- 如果一个侧为NaN，则结果为NaN
	- 如果两侧都是数字，则进行加法运算
	- 如果两侧都是字符串则进行字符串连接 
	- 如果一侧为字符串，另一侧是其他类型，则转成字符串之后，然后进行字符串连接 

### 逻辑运算符的计算规则

- `||` 或 运算符规则
	
	如果第一个值经Boolean()转换后为false，则返回第二个值，否则返回第一个值 **(注意：是值不是转换后的 false)**

- `&&` 与 运算符规则

	- 第一位是布尔值的 true 时，返回第二位的值，例如：`true&&1` 返回 1	
	- 第一位是布尔值的 false 时，直接返回 false
	- 第一位不是布尔值，则调用Boolean()进行转换，如果转换的结果为 true 则返回第二个值，否则，返回第一位的值 **(注意：是值不是转换后的 false)**
	- 如果有一个值为 null，返回 null
	- 如果有一个值为 NaN，返回 NaN
	- 如果有一个值为 undefined，返回 undefined

- `!` 非 运算符规则

	`!` 运算符在处理数据时，如果不是布尔值会直接调用 Boolean()方法进行转换，转换完之后，再进行计算 

### 关系运算符的计算规则

- `>` 大于, `<` 小于, `>=` 大于等于, `<=` 小于等于

	- 如果两个值都是数字，则进行数字比较
	- 如果两个值都是字符串，则比较字符串对应的 Unicode 码
	- 如果一个值是数字，则将另外一个值转成数字进行比较，转换规则参照 `Number()` 方法
	- 如果一个数是对象，则调用valueOf()方法进行比较，然后调用 toString方法，得到的结果按照前面的规则执行比较
	- 如果一个操作值是布尔值、null、undefined 则将其转换为数值，再进行比较
	- 最后注意 NaN，NaN 不等于任何值，所以直接返回false

- `==` 等等 和 `!=` 不等
	
	- 有 NaN 时,直接判定两侧不相等
	- 两侧都是数字时，直接比较数字大小	
	- 两侧都是字符串时，直接比较字符串是否相同
	- 两侧都是布尔值时，直接比较值是否相同
	- 两侧都是对象时，比较两个对象的引用地址是否相同
	- undefined ，null 在比较的时候只等于自己和其他任何类型都不相等，但是 undefined 等于 null
	- 如果一个值是布尔值时，先把布尔值转成数字再比较
	- 一个值是字符串，一个是数字时会调用 `Number()` 转出数字再进行比较
	- 如果一个值是对象，先调用valueOf()方法进行比较，然后调用 toString 方法，输出字符串，然后再参照以上规则比较

- `===` 全等 和 `!==` 全不等
- 两侧数据类型不相等时，直接判定两侧不相等
	- 有 NaN 时,直接判定两侧不相等
	- 两侧都是数字时，直接比较数字大小	
	- 两侧都是字符串时，直接比较字符串是否相同
	- 两侧都是布尔值时，直接比较值是否相同
	- 两侧都是对象时，比较两个对象的引用地址是否相同
	




